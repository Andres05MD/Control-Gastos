Idioma: Español
Librerias: Next.js (App Router), Tailwind CSS, React, TypeScript, SweetAlert2, Firebase (Auth & Firestore), Recharts, React-Icons, React-Datepicker.

1. Planteamiento General:
   Desarrollar una aplicación web progresiva y segura para la gestión integral de finanzas personales. Cada usuario tendrá un entorno privado donde podrá registrar y visualizar sus flujos de dinero, metas de ahorro, listas de compras y control de capital físico/cripto. El sistema destaca por un diseño "Premium" con Glassmorphism, integración de tasas de cambio (BCV) y métricas en tiempo real.

2. Objetivos Principales:
   - Implementar autenticación segura con Firebase (Email/Password).
   - CRUD ágil de transacciones (Ingresos/Gastos) y Ahorros (Físico/USDT).
   - Gestión de Listas de Compras con cálculo estimado en USD y BS.
   - Panel de control (Dashboard) con widgets interactivos y alertas de presupuesto.
   - Interfaz moderna "Dark Mode Glassmorphism" altamente responsiva.
   - Conversión automática de divisas (USD -> VES) basada en tasa BCV.

3. Estructura de la Base de Datos (Firebase Firestore):
   
   Colección: users
   - uid (string)
   - email (string)
   - displayName (string)
   - monthlyBudget (number): Límite de gasto mensual
   - monthlySalary (number): Salario mensual esperado
   - savingsPhysical (number): Saldo en efectivo
   - savingsUSDT (number): Saldo en USDT
   - createdAt (timestamp)

     Sub-Colección: savings_transactions (dentro de users)
     - id (string)
     - amount (number)
     - type (string): 'deposit' | 'withdrawal'
     - method (string): 'physical' | 'usdt'
     - description (string)
     - date (timestamp)

     Sub-Colección: shopping_lists (dentro de users)
     - id (string)
     - name (string)
     - createdAt (timestamp)
     - items (array of objects): { id, name, quantity, price, completed }

     Sub-Colección: savings_goals (dentro de users)
     - id (string)
     - name (string)
     - targetAmount (number)
     - currentAmount (number)
     - createdAt (timestamp)

   Colección: transactions (Global o vinculada por userId)
   - id (string)
   - userId (string)
   - type (string): 'ingreso' | 'gasto'
   - category (string)
   - amount (number)
   - date (timestamp)
   - description (string)
   - period (string)
   - createdAt (timestamp)

4. Estructura de Carpetas del Proyecto (Next.js App Router):

   /src
     /app
       /layout.tsx       (Configuración global)
       /page.tsx         (Redirección)
       /(auth)           
         /login/page.tsx
         /register/page.tsx
       /dashboard        
         /page.tsx       (Main Dashboard: Widgets, Big Numbers, Quick Actions)
         /movimientos
           /page.tsx     (Historial y Registro de Ingresos/Gastos)
         /ahorros
           /page.tsx     (Gestión de Efectivo y USDT, Historial de Ahorros)
         /listas
           /page.tsx     (Listas de compras interactivas con checkbox y calculadora)
         /reportes
           /page.tsx     (Gráficos, Resumen Financiero y de Ahorros)
         /perfil
           /page.tsx     (Edición de usuario, Seguridad)
     
     /components
       /ui               (Widgets específicos: CryptoCashWallet, SalaryPlanning, etc.)
         - RecentTransactions.tsx
         - ExchangeRateWidget.tsx
         - SavingsGoalsWidget.tsx
         - BudgetAlertWidget.tsx
         - SalaryPlanningWidget.tsx
         - CryptoCashWalletWidget.tsx
       /layout           (Sidebar con navegación activa)
       /charts           (FinancialCharts: Pie, Bar charts)
       /forms            (TransactionForm)
     
     /lib
       firebase.ts
       currency.ts       (API Fetching para tasa BCV)
       utils.ts
     
     /hooks              (Lógica de negocio encapsulada)
       - useAuth.tsx
       - useTransactions.ts
       - useSavingsTransactions.ts
       - useShoppingLists.ts
       - useGoals.ts

5. Secciones y Funcionalidades Detalladas:
   
   - Dashboard:
     * Widgets de Ahorro para Metas y Capital (Físico/USDT).
     * Alerta de Presupuesto (Barra de progreso Gasto vs Límite).
     * Planificación Salarial (Ingresos vs Salario Esperado).
     * Widget de Tasa de Cambio BCV en tiempo real.
     * Números grandes con conversión a Bs.

   - Movimientos:
     * Registro rápido con selector de categoría y fecha.
     * Tabla de historial con acciones de borrado.
   
   - Ahorros (NUEVO):
     * Wallet virtual para registrar efectivo y cripto.
     * Historial de depósitos y retiros.
     * Validación de fondos para retiros.

   - Listas de Compras:
     * Creación de múltiples listas.
     * Items con precio unitario y cantidad.
     * Cálculo automático del total en USD y Bs. mientras se añade.

   - Reportes:
     * Filtrado por Mes y Año.
     * Gráficos de Balance y Distribución de Gastos.
     * Resumen de Ahorro Neto del periodo seleccionado.

6. Estilo y UX:
   - Diseño Glassmorphism: Fondos translúcidos, desenfoques (backdrop-blur), bordes sutiles y sombras de colores neón.
   - Gradientes: Uso de gradientes oscuros (Slate-900) con acentos Emerald, Purple y Blue.
   - Interactividad: SweetAlert2 para todos los inputs complejos, confirmaciones y feedback.
   - Animaciones: Transiciones suaves en hover y carga.
